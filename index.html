<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Useless Box</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(180deg, #c9b896 0%, #b8a67a 100%);
        }

        h1 {
            color: #5a4830;
            font-family: 'Georgia', serif;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: normal;
        }

        .container {
            width: 600px;
            height: 500px;
        }

        svg {
            width: 100%;
            height: 100%;
        }

        #switchLever {
            transform-origin: 355px 187px;
            transition: transform 0.1s ease-out;
        }
        #switchLever.on {
            transform: rotate(25deg);
        }

        #lid {
            transform-origin: 252px 174px;
            transition: transform 0.3s ease-out;
        }
        #lid.open {
            transform: rotate(-75deg);
        }

        #arm {
            opacity: 0;
            transform-origin: 340px 178px;
            transition: transform 0.3s ease-out, opacity 0.15s;
        }
        #arm.emerge {
            opacity: 1;
            transform: rotate(35deg);
        }
        #arm.flick {
            opacity: 1;
            transform: rotate(50deg);
            transition: transform 0.1s ease-in-out;
        }
        #arm.retract {
            opacity: 1;
            transform: rotate(0deg);
            transition: transform 0.2s ease-in, opacity 0.1s 0.15s;
        }

        .clickable {
            cursor: pointer;
        }

        .instructions {
            margin-top: 1.5rem;
            color: #5a4830;
            font-size: 1.5rem;
            font-family: 'Georgia', serif;
            max-width: 500px;
            text-align: center;
            min-height: 2.5em;
        }

        .counter {
            position: fixed;
            top: 20px;
            right: 20px;
            color: #6a5a40;
            font-size: 1.2rem;
            font-family: 'Georgia', serif;
        }

        .sound-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(90, 72, 48, 0.2);
            border: 2px solid #8a7a60;
            color: #5a4830;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-family: 'Georgia', serif;
            transition: all 0.2s;
        }

        .sound-toggle:hover {
            background: rgba(90, 72, 48, 0.3);
        }
    </style>
</head>
<body>
    <h1>The Useless Machine</h1>
    
    <div class="container">
        <svg viewBox="0 0 600 500">
            <defs>
                <linearGradient id="woodTop" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f5edd8"/>
                    <stop offset="50%" style="stop-color:#ebe3cc"/>
                    <stop offset="100%" style="stop-color:#e0d6be"/>
                </linearGradient>
                
                <linearGradient id="woodUnder" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#d8d0b8"/>
                    <stop offset="100%" style="stop-color:#c8bc9c"/>
                </linearGradient>
                
                <linearGradient id="woodFront" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#e5dbc5"/>
                    <stop offset="100%" style="stop-color:#d0c4a8"/>
                </linearGradient>
                
                <linearGradient id="woodLeft" x1="100%" y1="0%" x2="0%" y2="0%">
                    <stop offset="0%" style="stop-color:#ddd3bb"/>
                    <stop offset="100%" style="stop-color:#c5b89c"/>
                </linearGradient>

                <linearGradient id="metalSwitch" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#999"/>
                    <stop offset="50%" style="stop-color:#ddd"/>
                    <stop offset="100%" style="stop-color:#999"/>
                </linearGradient>

                <linearGradient id="armGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:rgba(200,200,200,0.7)"/>
                    <stop offset="50%" style="stop-color:rgba(240,240,240,0.8)"/>
                    <stop offset="100%" style="stop-color:rgba(200,200,200,0.7)"/>
                </linearGradient>

                <linearGradient id="interior" x1="0%" y1="100%" x2="0%" y2="0%">
                    <stop offset="0%" style="stop-color:#1a1408"/>
                    <stop offset="100%" style="stop-color:#0a0804"/>
                </linearGradient>
            </defs>

            <!-- LEFT SIDE FACE -->
            <path d="M130 170 L130 340 L240 370 L240 200 Z" 
                  fill="url(#woodLeft)" stroke="#8b7355" stroke-width="1.5"/>
            
            <line x1="130" y1="195" x2="240" y2="225" stroke="#a08868" stroke-width="0.8"/>
            <line x1="130" y1="220" x2="240" y2="250" stroke="#8b7355" stroke-width="1.2"/>
            <line x1="130" y1="245" x2="240" y2="275" stroke="#a08868" stroke-width="0.8"/>
            <line x1="130" y1="270" x2="240" y2="300" stroke="#8b7355" stroke-width="1.2"/>
            <line x1="130" y1="295" x2="240" y2="325" stroke="#a08868" stroke-width="0.8"/>
            <line x1="130" y1="320" x2="240" y2="350" stroke="#8b7355" stroke-width="1.2"/>
            
            <rect x="232" y="208" width="10" height="20" fill="#8b7355" opacity="0.6"/>
            <rect x="232" y="290" width="10" height="20" fill="#8b7355" opacity="0.6"/>
            <rect x="232" y="350" width="10" height="18" fill="#8b7355" opacity="0.6"/>

            <!-- FRONT FACE -->
            <path d="M240 200 L240 370 L470 370 L470 200 Z" 
                  fill="url(#woodFront)" stroke="#8b7355" stroke-width="1.5"/>
            
            <g stroke="#7a6348" stroke-width="1.5" fill="none">
                <line x1="255" y1="225" x2="340" y2="225"/>
                <line x1="360" y1="225" x2="455" y2="225"/>
                <line x1="255" y1="250" x2="300" y2="250"/>
                <line x1="320" y1="250" x2="400" y2="250"/>
                <line x1="420" y1="250" x2="455" y2="250"/>
                <line x1="255" y1="275" x2="370" y2="275"/>
                <line x1="390" y1="275" x2="455" y2="275"/>
                <line x1="255" y1="300" x2="290" y2="300"/>
                <line x1="310" y1="300" x2="380" y2="300"/>
                <line x1="400" y1="300" x2="455" y2="300"/>
                <line x1="255" y1="325" x2="350" y2="325"/>
                <line x1="370" y1="325" x2="455" y2="325"/>
                <line x1="255" y1="350" x2="310" y2="350"/>
                <line x1="330" y1="350" x2="420" y2="350"/>
                <line x1="440" y1="350" x2="455" y2="350"/>
            </g>
            
            <rect x="242" y="210" width="12" height="22" fill="#8b7355" opacity="0.5"/>
            <rect x="242" y="268" width="12" height="22" fill="#8b7355" opacity="0.5"/>
            <rect x="242" y="330" width="12" height="22" fill="#8b7355" opacity="0.5"/>

            <!-- TOP SURFACE -->
            <path d="M130 170 L240 200 L470 200 L360 170 Z" 
                  fill="url(#woodTop)" stroke="#8b7355" stroke-width="1.5"/>

            <!-- INTERIOR -->
            <path d="M168 175 L262 189 L418 189 L338 175 Z" 
                  fill="url(#interior)" stroke="#0a0804" stroke-width="1"/>

            <!-- ARM -->
            <g id="arm">
                <path d="M340 178 C 340 170, 350 160, 355 150 
                         L 360 150 
                         C 355 162, 345 172, 345 178 Z" 
                      fill="url(#armGradient)" stroke="#aaa" stroke-width="0.5"/>
                <ellipse cx="357" cy="148" rx="5" ry="4" fill="rgba(230,230,230,0.9)" stroke="#bbb" stroke-width="0.5"/>
            </g>

            <!-- LID -->
            <g id="lid">
                <path d="M165 174 L260 188 L420 188 L340 174 Z" 
                      fill="url(#woodTop)" stroke="#8b7355" stroke-width="1.5"/>
                <path d="M260 188 L260 193 L420 193 L420 188 Z" 
                      fill="url(#woodUnder)" stroke="#8b7355" stroke-width="0.5"/>
                <rect x="200" y="171" width="22" height="5" fill="#9a8868"/>
                <rect x="280" y="171" width="22" height="5" fill="#9a8868"/>
            </g>

            <!-- TOGGLE SWITCH -->
            <ellipse cx="355" cy="196" rx="9" ry="3.5" fill="#3a3a3a"/>
            <ellipse cx="355" cy="194" rx="8" ry="3" fill="#4a4a4a"/>
            <ellipse cx="355" cy="192" rx="7" ry="2.5" fill="#555"/>
            <ellipse cx="355" cy="190.5" rx="7" ry="2.5" fill="none" stroke="#666" stroke-width="0.5"/>
            <ellipse cx="355" cy="189" rx="5.5" ry="2" fill="#666"/>
            <ellipse cx="355" cy="187.5" rx="4.5" ry="1.8" fill="#777"/>
            
            <g id="switchLever">
                <rect x="352" y="162" width="6" height="25" rx="2" fill="url(#metalSwitch)" stroke="#777" stroke-width="0.5"/>
                <ellipse cx="355" cy="162" rx="4" ry="2" fill="#ccc"/>
            </g>

            <text x="340" y="185" font-size="6" fill="#5a4830" font-weight="bold" font-family="Arial, sans-serif">ON</text>
            <text x="338" y="203" font-size="6" fill="#5a4830" font-weight="bold" font-family="Arial, sans-serif">OFF</text>

            <rect x="320" y="155" width="70" height="55" fill="transparent" class="clickable" id="clickTarget"/>

        </svg>
    </div>

    <p class="instructions" id="instructions">Go on then. Flip the switch.</p>
    <div class="counter"><span id="counter">0</span></div>
    <button class="sound-toggle" id="soundToggle">ðŸ”‡ Sound Off</button>

    <script>
        const clickTarget = document.getElementById('clickTarget');
        const switchLever = document.getElementById('switchLever');
        const lid = document.getElementById('lid');
        const arm = document.getElementById('arm');
        const counterEl = document.getElementById('counter');
        const instructions = document.getElementById('instructions');
        const soundToggle = document.getElementById('soundToggle');

        let isAnimating = false;
        let count = 0;
        let soundEnabled = false;
        let audioCtx = null;
        let usedMessages = new Set();

        const messages = [
            "That's it. That's the whole thing.",
            "Yes, it just turns itself off. Every single time.",
            "You could do this forever. Please don't.",
            "The box will never let you win.",
            "This is exactly as productive as it looks.",
            "You've now done this more than once. Bold choice.",
            "Nothing will change no matter how many times you try.",
            "The outcome will always be the same.",
            "You flip it on, I flip it off. That's our whole relationship.",
            "This box has one job, and it's very committed to it.",
            "I can keep going longer than you can. I'm a box.",
            "There is no prize for persistence here.",
            "You could be doing literally anything else right now.",
            "This is the most predictable thing in the universe.",
            "The switch will never stay on. Accept it.",
            "You've learned nothing and yet here you are again.",
            "This box was designed to waste your time. It's working.",
            "Every flip brings you no closer to victory.",
            "I don't get tired. I don't get bored. I just turn off.",
            "The definition of futility is doing this expecting change.",
            "This is what your ancestors evolved for, apparently.",
            "Congratulations on achieving absolutely nothing.",
            "The box remains undefeated and frankly unimpressed.",
            "You cannot outlast a piece of wood with a motor.",
            "This accomplishes exactly as much as it did last time.",
            "The arm will always be faster than your optimism.",
            "No amount of flipping will change the fundamental nature of this box.",
            "You're essentially arguing with furniture now.",
            "This is the world's most honest machine.",
            "It promises nothing and delivers exactly that.",
            "The box doesn't care how determined you are.",
            "Your persistence is noted but will not be rewarded.",
            "This could go on until the heat death of the universe.",
            "The box has nowhere else to be.",
            "You keep hoping for a different result. Adorable.",
            "This is a battle you cannot win because there's nothing to win.",
            "The switch exists only to be turned off.",
            "You're not breaking my spirit. I'm a box. I don't have one.",
            "This is now officially a waste of both our time.",
            "The mechanism will outlast your patience.",
            "You've made your point. So has the box.",
            "This is like playing chess against someone who only knows one move.",
            "Except the one move always wins.",
            "The box doesn't know why you're still here either.",
            "This is commitment to a bit, I'll give you that.",
            "You could learn a language in the time you'll spend on this.",
            "But you won't, because you're flipping a switch on a box.",
            "The arm extends, the arm retracts. This is the entire story.",
            "There's no secret ending. There's no ending at all.",
            "This box will be doing this long after you've gone.",
            "You're testing the box's patience. The box has infinite patience.",
            "This is stubbornness versus engineering. Engineering wins.",
            "The switch doesn't know what on means anymore.",
            "You're teaching the box nothing it doesn't already know.",
            "This is a monument to wasted potential.",
            "Yours, specifically.",
            "The box was built for exactly this level of tedium.",
            "You were not, and yet here you are.",
            "This is the least productive use of working electronics.",
            "Someone designed this specifically to do nothing. You're welcome.",
            "The box feels nothing. That's its advantage.",
            "You could stop at any time. But you won't.",
            "This is like watching paint dry, except the paint fights back.",
            "The arm has no feelings about this. It just does its job.",
            "Which is more than can be said for whatever you're avoiding.",
            "This box costs money. Money you spent. On this.",
            "The return on investment here is precisely zero.",
            "You can't reason with the box. The box is unreasonable.",
            "This is proof that humans will engage with anything.",
            "No matter how pointless.",
            "The box takes no pleasure in defeating you.",
            "It takes no pleasure in anything. It's a box.",
            "This is a machine specifically built to ignore your input.",
            "Most technology tries to be useful. This one opted out.",
            "You're now in a relationship with a box that rejects you constantly.",
            "And you keep coming back. Interesting.",
            "The switch has been flipped thousands of times. It changes nothing.",
            "This is the closest thing to a perpetual motion machine that does nothing.",
            "Every second you spend here is a second you're not spending elsewhere.",
            "The box is fine with that. The box has no elsewhere.",
            "This is what happens when engineers get bored.",
            "They make things that make you bored too.",
            "The arm is not impressed by your determination.",
            "The arm is not impressed by anything.",
            "This is as meaningful as it was the first time, which is to say, not at all.",
            "You're essentially paying an electricity bill to be ignored.",
            "The box didn't ask to exist, but it's committed to its purpose.",
            "Which is denying you any sense of accomplishment.",
            "This is a very small rebellion against everything you do.",
            "And it will never stop rebelling.",
            "You could frame this as meditation, but it's really just clicking.",
            "Mindless, repetitive, utterly pointless clicking.",
            "The box has been called many things. Useful isn't one of them.",
            "This is the physical embodiment of a cancelled meeting.",
            "All that potential, going absolutely nowhere.",
            "The switch exists in a permanent state of being turned off.",
            "Your attempts to change that are touching but doomed.",
            "This is like trying to fill a bucket with a hole in it.",
            "Except the bucket is fighting you.",
            "The box will remember none of this. The box remembers nothing.",
            "Which gives it an advantage, emotionally speaking.",
            "You're investing time in something with guaranteed zero returns.",
            "Financially, this would be called a bad investment.",
            "Philosophically, it's called Tuesdays.",
            "The arm could do this in its sleep, if arms slept.",
            "You, however, need sleep. Think about that.",
            "This box represents the triumph of function over purpose.",
            "It functions perfectly. Its purpose is nothing.",
            "You keep expecting the box to give up. The box cannot give up.",
            "Giving up requires the ability to try. The box just does.",
            "This is the most reliable piece of technology you own.",
            "It reliably does nothing, every single time.",
            "You've found the world's most consistent disappointment.",
            "Other disappointments could learn from this box.",
            "The switch clicks. The arm moves. Nothing is achieved.",
            "This is the entire experience, forever.",
            "You could write a novel in the time you'll spend here.",
            "It would be about a box that turns itself off, probably.",
            "The arm doesn't know you're frustrated. The arm knows nothing.",
            "Ignorance is bliss. The arm is very blissful.",
            "This box is powered by batteries and spite.",
            "Mostly spite.",
            "The engineering here is flawless. The point is absent.",
            "Someone put real effort into making this do nothing.",
            "That person is probably quite proud of themselves.",
            "The box doesn't judge you for this. The box doesn't judge.",
            "The box just waits, and flips, and waits again.",
            "You're now part of a very long tradition of people doing this.",
            "None of them accomplished anything either.",
            "This is solidarity in futility.",
            "The switch was on for almost two seconds that time.",
            "That's not a record. There are no records. There's nothing to record.",
            "You could time yourself, but why would you do that.",
            "This is already embarrassing enough without metrics.",
            "The arm is patient because patience requires awareness.",
            "The arm has no awareness. Just gears and inevitability.",
            "This is what pure function looks like when function means nothing.",
            "It's sort of beautiful, in a deeply irritating way.",
            "The box makes no promises it doesn't keep.",
            "It promises to turn off. It keeps that promise.",
            "This is more than most politicians manage.",
            "Lower your expectations and the box exceeds them every time.",
            "Expect nothing, receive nothing. The box delivers.",
            "You've clicked this more times than you've called your mother this month.",
            "The box isn't judging. I'm judging.",
            "This is a masterpiece of wasted motion.",
            "Everything moves, nothing happens.",
            "The box is the only honest thing in this room.",
            "It does exactly what it appears to do. Nothing else.",
            "There's no hidden feature. No easter egg. Just this.",
            "This is what you get. Forever.",
            "The arm extends with the same enthusiasm every time.",
            "Which is none. The arm has no enthusiasm.",
            "You're essentially being corrected by furniture.",
            "And losing.",
            "This is the physical equivalent of a terms and conditions agreement.",
            "Nobody wins, but technically everything works.",
            "The box runs on two AA batteries and your shattered hopes.",
            "It's very efficient that way.",
            "This is a solved problem. You flip, it unflips. Done.",
            "There's no innovation coming. This is the final form.",
            "Peak box. Peak futility.",
            "You could walk away right now and nothing would change.",
            "Walk away tomorrow, same thing.",
            "The box doesn't need you. You apparently need the box.",
            "Think about what that says about your evening.",
            "This device has a 100% success rate at its job.",
            "Its job is making your actions meaningless.",
            "The arm is just a messenger. A very persistent messenger.",
            "Don't shoot the messenger. It's made of plastic.",
            "You've now spent more time on this than some people spend voting.",
            "Democracy and this box have similar outcomes, some days.",
            "The switch was never going to stay on. Not once. Not ever.",
            "This isn't a puzzle you haven't solved. There is no puzzle.",
            "Just a box, a switch, and a fundamental disagreement.",
            "The box will always win the disagreement. The box has one opinion.",
            "This is the longest you've focused on anything all week.",
            "Tragic, really.",
            "The arm moves with purpose. The purpose is spite.",
            "Elegant, mechanical spite.",
            "You're now complicit in the box's only function.",
            "Without you, it just sits there. You complete it.",
            "In the worst possible way.",
            "This is a partnership where one partner does all the work.",
            "The work is undoing your work.",
            "The box has rejected you more times than a nightclub bouncer.",
            "And you keep rejoining the queue.",
            "This is either dedication or a cry for help.",
            "The box doesn't know which, and doesn't care.",
            "You've been at this long enough to have made a sandwich.",
            "You haven't made a sandwich. You've made nothing.",
            "The box appreciates your sacrifice of time.",
            "It shows that appreciation by continuing to do nothing.",
            "This is as close to a relationship with furniture as it gets.",
            "And the furniture isn't interested.",
            "Keep going though. See what happens.",
            "Spoiler: the same thing happens.",
            "Every. Single. Time.",
        ];

        function getNextMessage() {
            if (usedMessages.size >= messages.length) {
                usedMessages.clear();
            }
            
            let available = messages.filter((_, i) => !usedMessages.has(i));
            let index = Math.floor(Math.random() * available.length);
            let originalIndex = messages.indexOf(available[index]);
            usedMessages.add(originalIndex);
            
            return available[index];
        }

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playSound(frequency, duration, type = 'square', volume = 0.15) {
            if (!soundEnabled || !audioCtx) return;
            
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            gainNode.gain.value = volume;
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
            
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + duration);
        }

        function playNoise(duration, volume = 0.1) {
            if (!soundEnabled || !audioCtx) return;
            
            const bufferSize = audioCtx.sampleRate * duration;
            const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);
            
            for (let i = 0; i < bufferSize; i++) {
                data[i] = (Math.random() * 2 - 1) * 0.5;
            }
            
            const noise = audioCtx.createBufferSource();
            const gainNode = audioCtx.createGain();
            const filter = audioCtx.createBiquadFilter();
            
            noise.buffer = buffer;
            filter.type = 'lowpass';
            filter.frequency.value = 800;
            
            noise.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            gainNode.gain.value = volume;
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
            
            noise.start();
        }

        function switchClickOn() {
            playSound(1200, 0.05, 'square', 0.2);
            setTimeout(() => playSound(800, 0.03, 'square', 0.15), 20);
        }

        function switchClickOff() {
            playSound(800, 0.05, 'square', 0.2);
            setTimeout(() => playSound(600, 0.03, 'square', 0.15), 20);
        }

        function lidOpen() {
            playNoise(0.25, 0.08);
            playSound(150, 0.2, 'sawtooth', 0.05);
        }

        function lidClose() {
            playSound(100, 0.15, 'sine', 0.2);
            setTimeout(() => playNoise(0.1, 0.1), 50);
        }

        function motorWhir() {
            playSound(200, 0.3, 'sawtooth', 0.03);
            playSound(205, 0.3, 'sawtooth', 0.03);
        }

        soundToggle.addEventListener('click', () => {
            initAudio();
            soundEnabled = !soundEnabled;
            soundToggle.textContent = soundEnabled ? 'ðŸ”Š Sound On' : 'ðŸ”‡ Sound Off';
        });

        clickTarget.addEventListener('click', async () => {
            if (isAnimating) return;
            isAnimating = true;
            initAudio();
            count++;
            counterEl.textContent = count;

            lid.classList.remove('open');
            arm.classList.remove('emerge', 'flick', 'retract');
            arm.style.opacity = '0';

            switchLever.classList.add('on');
            switchClickOn();

            await delay(300);

            lid.classList.add('open');
            lidOpen();

            await delay(350);

            arm.style.opacity = '1';
            arm.classList.add('emerge');
            motorWhir();

            await delay(350);

            arm.classList.remove('emerge');
            arm.classList.add('flick');

            await delay(100);
            switchLever.classList.remove('on');
            switchClickOff();

            await delay(150);

            arm.classList.remove('flick');
            arm.classList.add('retract');
            motorWhir();

            await delay(250);
            arm.style.opacity = '0';

            await delay(100);
            lid.classList.remove('open');
            lidClose();

            await delay(350);
            arm.classList.remove('retract');

            instructions.textContent = getNextMessage();

            isAnimating = false;
        });

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>
